
{% extends "student_portal_base.html" %}
{% load custom_filters %}


{% block content %}
{% include 'varsity_portal/quick_access_link.html' %}

<h2>Exam List</h2>

<div class="table-responsive">
    <table border="1" cellpadding="8" class="table">
        <thead class="table-dark">
            <tr>
                <th>Admit card</th>               
                <th>Program</th>
                <th>Session</th>
                <th>Academic Year</th>
                <th>Term</th>
                <th>Exam Type</th>              
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for exam in exams %}
            <tr>
                 <td>
                    {% if not exam.exam_registrations.exists %}
                    <a href="{% url 'varsity_portal:register_for_exam' exam.id %}"
                    class="btn btn-sm btn-outline-primary">Register to get Admit Card</a>
                    {% else %}
                    <a href="{% url 'varsity_portal:generate_admit_card' exam.exam_registrations.first.id %}"
                    class="btn btn-sm btn-outline-primary">Admit Card</a>
                    {% endif %}
                 </td>
                 
                <td>{{ exam.program }}</td>
                <td>{{ exam.academic_session }}</td>
                <td>{{ exam.academic_year }}</td>
                <td>{{ exam.term }}</td>
                <td>{{ exam.get_exam_type_display }}</td>                
                
                <td>
                    <a href="{% url 'varsity_portal:exam_detail' exam.id %}">View</a>                    
                    
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6">No exams found</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}