
<!DOCTYPE html>
<html lang="en">
<head>

{% load static %}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>bnova</title>


<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap CSS (Bootstrap 5.3) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (Bootstrap 5.3) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Datepicker -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Font Awesome CSS for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Font Awesome CDN -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"> -->

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<!-- Add CSS for Select2 -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<!-- Add JS for Select2 -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>


<link rel="stylesheet" href="{% static 'css/core.css' %}">

<script src="{% static 'js/common.js' %}"></script>



<style>

    
/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&family=Roboto:wght@300;400;500&display=swap');

/* Apply font to entire navbar, including dropdowns */
.navbar, 
.navbar .nav-item, 
.navbar .nav-link, 
.navbar .dropdown-menu, 
.navbar .dropdown-item, 
.navbar .dropdown-submenu .dropdown-menu {
    font-family: 'Poppins', 'Roboto', sans-serif !important;
}

.navbar .dropdown-menu .dropdown-item {
    font-family: "Arial", sans-serif !important; /* Set your desired font */
}

.navbar .dropdown-menu .dropdown-item i {
    font-family: inherit !important; /* Make icons follow the text font */
}

/* Apply font-family to dropdown items */
.navbar .dropdown-menu .dropdown-item {
    font-family: "Arial", sans-serif !important; /* Set your desired font */
}

/* Ensure icons use FontAwesome's font */
.navbar .dropdown-menu .dropdown-item i {
    font-family: "Font Awesome 5 Free", "Font Awesome 5 Pro" !important;
    font-weight: 900; /* Ensures solid icons show correctly */
}

.dropdown_caret_color{
    color:white
}

.nav-bar i{
    color:#0dcaf0
}
.navbar li, .navbar a, .navbar ul{
    color:white;
    
}

ul .dropdown-item > i{
    color:cyan
}

li a {
    line-height: 1.3rem;
    margin: 0 !important;
    padding: 4px 15px !important; /* Adjust as needed */
}

.menu-color{
     color:white;
    
 }

    

/* Ensure the main dropdown opens on hover */
.nav-item.dropdown:hover > .dropdown-menu {
    display: block;
    background-color: #2d2d2d; /* Darker gray */
    color: #ffffff; 
}


/* Style for the main dropdown */
.navbar .dropdown-menu {
    background-color: #2c3e50; 
    border: none;
    border-radius: 8px;
    box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
}

/* Style for dropdown items */
.navbar .dropdown-menu .dropdown-item {
    color: white !important; 
    padding: 10px 20px;
    font-size: 15px;
    font-weight: 500;
    text-decoration: none;
    font-family: 'Poppins', 'Roboto', sans-serif !important; /* Ensure font applies */
}

/* Hover effect for dropdown items */
.navbar .dropdown-menu .dropdown-item:hover {
    background-color: #34495e; 
    color: #f1c40f !important; 
}


/* Ensure links stay visible */
.navbar .dropdown-menu a {
    color: white !important;
    font-family: 'Poppins', 'Roboto', sans-serif !important; /* Force font for links */
}



/* Dropdown submenu wrapper */
.dropdown-submenu {
    position: relative;
}

/* Dropdown menu with scroll effect */
.dropdown-submenu > .dropdown-menu {
    position: absolute;
    top: 0;
    left: 100%;
    margin-top: -1px;
    display: none;
    max-height: 300px; /* Adjust height as needed */
    overflow-y: auto;
    background-color: #2c3e50;
    border-radius: 8px;
    z-index: 10001;
}

/* Ensure submenu opens only when hovering on the parent */
.dropdown-submenu:hover > .dropdown-menu {
    display: block;
}

/* Prevent flickering */
.dropdown-submenu:hover {
    position: relative;
}

/* Custom scrollbar styling */
.dropdown-submenu > .dropdown-menu::-webkit-scrollbar {
    width: 6px;
}

.dropdown-submenu > .dropdown-menu::-webkit-scrollbar-track {
    background: #1c2833; 
}

.dropdown-submenu > .dropdown-menu::-webkit-scrollbar-thumb {
    background: #f1c40f; /* Change scrollbar color */
    border-radius: 5px;
}

/* Hover effect */
.dropdown-submenu .dropdown-menu .dropdown-item:hover {
    background-color: #3a4b5c;
    color: #ffcc00 !important;
    z-index: 10001;
}

@media (max-width: 991.98px) {
    .navbar-toggler {
        width: 40px;
        height: 40px;
        padding: 0;
        border: 2px solid white;
        background-color: #16213e;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .navbar-toggler-icon {
        width: 100%;
        height: 100%;
        background-size: 60% 60%;
        background-repeat: no-repeat;
        background-position: center;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='white' stroke-width='2' stroke-linecap='round' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
        border-radius: 4px; /* optional */
    }
}




</style>


</head>


<body>




<!-- Social Links Navbar -->

<!-- Social Links Navbar -->
<nav class="navbar navbar-dark social-nav" id="socialNav">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <!-- Left Section: Social Links -->
        <span class="navbar-text">Social Links | Contact Us | Follow Us</span>

        <!-- Search Form -->
        <form class="d-flex w-50" method="GET" action="{% url 'accounts:search_all' %}">
            <select id="id_search" class="form-control select2 me-2" name="q">
                <option value="">Search...</option>
            </select>
            <button class="btn btn-info" type="submit">Search</button>
        </form>

        <!-- Right Section: Social Icons -->
        <div class="social-icons d-flex">
            <a href="https://www.facebook.com" target="_blank" class="text-light me-3">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.twitter.com" target="_blank" class="text-light me-3">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.linkedin.com" target="_blank" class="text-light me-3">
                <i class="fab fa-linkedin-in"></i>
            </a>
            <a href="mailto:contact@yourcompany.com" class="text-light ms-3">
                <i class="fas fa-envelope"></i> Email Us
            </a>
        </div>
    </div>
</nav>


<!-- Main Navbar -->
<nav class="navbar navbar-expand-lg main-nav" id="mainNav">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'core:dashboard' %}">bnova</a>
        <button class="navbar-toggler toggle-button" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse toggle-button" id="navbarNav">
            <ul class="navbar-nav">
                <!-- notification menue -->
               
                    {% if schema_name != 'public' %}
                    {% if request.user.is_authenticated %}


		



                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'accounts:login' %}">Log in</a>
                        </li>
                        {% endif %}
                        {% endif %}
                            
                            
               
                <!-- notification end -->

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle menu-color" style="color: white;" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fa fa-bullhorn" aria-hidden="true"></i> Notices
                    </a>

                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">
                      
                        <li><a class="dropdown-item" href="{% url 'core:view_notices' %}" style="color:red"><i class="fas fa-eye"></i>&nbsp;View Notices</a></li>
                        <li><a class="dropdown-item" href="{% url 'core:add_notice' %}" style="color:blue"><i class="fas fa-plus-square"></i>&nbsp;Add notices</a></li>
                        <li><a class="dropdown-item" href="" style="color:blue"><i class="fas fa-folder-open"></i>&nbsp;Archive old notifications</a></li>
                    </ul>
                </li>
               


               
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-users text-info"></i><span>&nbsp;Manage school</span>            
                                 
                    </a>                                       
                      
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">
                                               
                        <li><a class="dropdown-item" href="{% url 'school_management:create_school' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create School </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_faculty' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Create faculty</a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_class' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create Class </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_class_assignment' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Create Class Assignment</a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_section' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create section </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_class_room' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create class room </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_subject' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create subject </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_subject_assignment' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Create Subject Assignment</a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_schedule' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create schedule </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_teaching_assignment' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create teaching assignment </a></li>
                        <li><a class="dropdown-item" href="{% url 'school_management:create_image_gallery' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create Image gallery </a></li>
                        <li><hr class="dropdown-divider"style="background-color:gray;"></li>  
                        <li><a class="dropdown-item" href="{% url 'payments:create_feestructure' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create fees structure </a></li>
                        <li><hr class="dropdown-divider"style="background-color:gray;"></li>  
                        <li><a class="dropdown-item" href="{% url 'results:create_grade' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create Grade </a></li>
                        <li><a class="dropdown-item" href="{% url 'results:create_exam_type' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create Exam type </a></li>
                        <li><a class="dropdown-item" href="{% url 'results:create_result' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Result Entry </a></li>
                        <li><hr class="dropdown-divider"style="background-color:gray;"></li>    
                        <li><a class="dropdown-item" href="{% url 'results:individual_exam_result' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Individual exam result </a></li>
                        <li><a class="dropdown-item" href="{% url 'results:aggregated_final_result' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Subject wise all exam aggregation </a></li>
                        <li><a class="dropdown-item" href="{% url 'results:student_details_report' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Combined Result Old format </a></li>   
                        <li><a class="dropdown-item" href="{% url 'results:student_transcripts' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Student Transcripts </a></li> 

                        <li><hr class="dropdown-divider"style="background-color:gray;"></li>    
                        <li><a class="dropdown-item" href="{% url 'results:GPA_Final_result_analysis' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;GPA Final result analysis  </a></li> 
                        <li><a class="dropdown-item" href="{% url 'results:school_toppers' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;School Toppers  </a></li> 


                       

                    </ul>                 
                </li> 

             
		 <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-user-cog text-info"></i>  &nbsp;<span style=color:white>Payment</span>            
                                 
                    </a>                                       
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">                                             
                        <li><a class="dropdown-item" href="{% url 'payments:create_admissionfee_policy' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create admissionfee Policy</a></li> 
                        <li><a class="dropdown-item" href="{% url 'payments:create_admissionfee' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create admissionfee</a></li> 
                        <li><a class="dropdown-item" href="{% url 'payments:create_feestructure' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Create fees structure </a></li>
                        <li><a class="dropdown-item" href="{% url 'payments:create_placeholder_payments' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Create Placeholder</a></li>  
                        <li><a class="dropdown-item" href="{% url 'payments:search_make_payment' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Make Payment</a></li>  
                        <li><a class="dropdown-item" href="{% url 'payments:payment_status_view' %}" style="text-decoration: none;"><i class="fas fa-plus-square"></i>&nbsp;Payment status</a></li>                      
                                                                       
                    </ul>                 
                </li> 



		   <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-user-cog text-info"></i> <span>Attendance</span>            
                                 
                    </a>                                       
                      
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">
                                               
                        <li><a class="dropdown-item" href="{% url 'attendance:create_weekday' %}" ><i class="fas fa-plus-square"></i>&nbsp;Create weekdays</a></li>
                        <li><a class="dropdown-item" href="{% url 'attendance:create_attendance_policy' %}" ><i class="fas fa-plus-square"></i> &nbsp;Create Policy</a></li>
                        <li><a class="dropdown-item" href="{% url 'attendance:create_attendance' %}" ><i class="fas fa-plus-square"></i>&nbsp;Create attendance</a></li>
                        <li><a class="dropdown-item" href="{% url 'attendance:create_attendance_log' %}"><i class="fas fa-plus-square"></i> &nbsp;Create attendance log</a></li>
                        <li><a class="dropdown-item" href="{% url 'attendance:attendance_report' %}" ><i class="fas fa-plus-square"></i> &nbsp;Attendance Report</a></li>
                        <li><a class="dropdown-item" href="{% url 'attendance:daily_attendance_summary' %}"><i class="fas fa-plus-square"></i> &nbsp;Daily Attendance Summary</a></li>
                        
                                               
                    </ul>                 
                </li> 

                


 
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-user-cog text-info"></i><span>&nbsp;Student</span>            
                                 
                    </a>       
 		 <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">
    			<li>
      				<a class="dropdown-item" href="{% url 'student_portal:student_landing_page' %}">
    				 	<i class="fas fa-home"></i> Student Portal
      				</a>
    			</li>
    			<li>
      				<a class="dropdown-item" href="{% url 'students:create_guardian' %}">
       			 		<i class="fas fa-user-friends"></i> Create Guardian
      				</a>
   			 </li>
    			<li>
      				<a class="dropdown-item" href="{% url 'students:create_student' %}">
        			<i class="fas fa-user-graduate"></i> Create Student
      				</a>
    			</li>
    			<li>
      				<a class="dropdown-item" href="{% url 'teachers:create_teacher' %}">
        			<i class="fas fa-chalkboard-teacher"></i> Create Teacher
   		   		</a>
    			</li>
    			<li>
    				  <a class="dropdown-item" href="{% url 'students:create_student_enrollment' %}">
        			<i class="fas fa-user-plus"></i> Enroll Student
      				</a>
    			</li>
    			<li>
      				<a class="dropdown-item" href="{% url 'teachers:view_teacher_vcard' %}">
        			<i class="fas fa-id-card"></i> Teacher VCard
      				</a>
    			</li>
    			<li>
    				  <a class="dropdown-item" href="{% url 'students:view_student_vcard' %}">
        			<i class="fas fa-id-badge"></i> Student VCard
      				</a>
    			</li>
    			<li>
     				 <a class="dropdown-item" href="{% url 'messaging:create_management_message' %}">
        			<i class="fas fa-envelope"></i> Create Management Message
      				</a>
    				</li>
    			<li>
      				<a class="dropdown-item" href="{% url 'students:view_student_weekly_schedule' %}">
       				 <i class="fas fa-calendar-alt"></i> General Weekly Class Schedule
      				</a>
				<li><a class="dropdown-item" href="{% url 'students:student_weekly_schedule' %}"
				 style="text-decoration: none;"><i class="fas fa-plus-square"></i> &nbsp;Student Class schedule</a></li>
    			</li>
  		  </ul>
		</li>

                       
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-user-cog text-info"></i><span>&nbsp;HR</span>            
                                 
                    </a>    
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">       
                                                                                                                                                                          

                                <li><a class="dropdown-item" href=""><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Job Portal</a></li>
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><a class="dropdown-item" href="{% url 'core:manage_department' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Department</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_position' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Position</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_job_requirement' %}"><i class="fas fa-user-text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create job requirement</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_job_description' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create job_description</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_company' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Company</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:manage_location' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Company Location</a></li>
    
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li>  
                                
                                <li><a class="dropdown-item" href="{% url 'core:create_company_policy' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Company Level Policy</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_festival' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Festival bonus calendar</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_performance_bonus' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Performance Bonus calendar</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_salary_structure' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Create Salary structure</a></li>
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><a class="dropdown-item" href="{% url 'core:manage_employee' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Employee enrollment</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:manage_doctor' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Doctor enrollment</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:manage_nurse' %}"><i class="fas fa-user text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Nurse enrollment</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:employee_list' %}"><i class="fas fa-users text-info"></i><i class="fas fa-tasks text-info"></i>&nbsp;Employee List</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:view_employee' %}"><i class="fas fa-user text-info"></i><i class="fas fa-credit-card text-info"></i>&nbsp;Employee VCard</a></li>
    
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><a class="dropdown-item" href="{% url 'accounts:assign_permissions' %}"><i class="fas fa-user-cog text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;User Permission</a></li>
                                <li><a class="dropdown-item" href="{% url 'accounts:assign_user_to_group' %}"><i class="fas fa-user-cog text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Assign user to group</a></li>
                                <li><a class="dropdown-item" href="{% url 'accounts:assign_permissions_to_group' %}"><i class="fas fa-user-cog text-info"></i><i class="fas fa-plus-circle text-info"></i>&nbsp;Assign Permission to Group</a></li>
    
    
                                <li><a class="dropdown-item" href=""><i class="fas fa-users text-info"><i class="fas fa-dollar-sign text-info"></i></i>&nbsp;Appraisal</a></li>
                                <li><a class="dropdown-item" href="{% url 'core:create_salary' %}"><i class="fas fa-plus-circle text-info"></i>&nbsp;Create salary sheet</a></li>                         
                                <li><a class="dropdown-item" href=""><i class="fas fa-eye text-info"></i>&nbsp;View attendance</a></li>       
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li> 
                                <li><hr class="dropdown-divider"style="background-color:gray;"></li>     
                                                                  
                                        
                  

                    </ul>
                </li>             
                  

               
              

               
               
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle dropdown_caret_color"href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class=" fas fa-user-cog text-info"></i><span>&nbsp;User</span>            
                                  
                    </a>   
                                    
                      
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown" style="max-height: 400px; overflow-y: auto;">
                        {% if user.is_authenticated %}                        
                        <li>
                            <form action="{% url 'accounts:logout' %}" method="post" style="display: inline;">
                                {% csrf_token %}
                                <button type="submit" class="dropdown-item" style="text-decoration: none;"><i class="fas fa-sign-out-alt"></i>&nbsp;Logout</button>
                            </form>
                        </li>                                        
                        <li><a class="dropdown-item" href="{% url 'accounts:password_change' %}" style="text-decoration: none;"><i class="fas fa-key"></i>&nbsp;Change Password </a></li>
                        <li><a class="dropdown-item" href="{% url 'accounts:register' %}" style="text-decoration: none;"><i class="fas fa-sign-in-alt"></i> &nbsp;Register</a></li>

                       {% else %}
                        <li><a class="dropdown-item" href="{% url 'accounts:login' %}" style="text-decoration: none;"><i class="fas fa-sign-in-alt"></i> &nbsp;Login</a></li>
                        <li><a class="dropdown-item" href="{% url 'accounts:register' %}" style="text-decoration: none;"><i class="fas fa-sign-in-alt"></i> &nbsp;Register</a></li>
                        <li><a class="dropdown-item" href="{% url 'accounts:pwdreset' %}" style="text-decoration: none;"><i class="fas fa-lock"></i>&nbsp;Forgot Password </a></li>
                        {% endif %}
                    </ul>                 
                </li> 




                          

            </ul>           
            <!-- this master Ul end  -->
         
                
            <div class="my-3">
                
                {% if user.is_authenticated %}
                {% if user.photo_id %}
                    <img src="{{ user.photo_id.url }}" alt="Profile" class="rounded-circle" width="30" height="30">
                    {% endif %}
                    <span style="color:white"> welcome<br>{{ user.username }}</span>
                {% else %}
                <i class="fas fa-user-cog text-info"><span style="color:white">&nbsp;Guest</span></i> &nbsp;
                 
                {% endif %}
            </div>
            
              
            </ul>  <!-- this master Ul end  -->    
           
         
            
        </div>
    </div>
   

</nav>



              

    <div class="container-fluid">    
        {% block content %}
        {% endblock %}
    </div>
    
    {% include 'footer.html' %}




<!-- Bootstrap Modal -->
<div class="modal fade" id="messageModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="messageModalLabel">Messages</h5>
                <!-- Close Button -->
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="messagesContainer">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    let dropdowns = document.querySelectorAll('.dropdown-submenu');

    dropdowns.forEach(function(dropdown) {
        dropdown.addEventListener('mouseenter', function() {
            let submenu = this.querySelector('.dropdown-menu');
            if (submenu) {
                submenu.style.display = 'block';
            }
        });

        dropdown.addEventListener('mouseleave', function() {
            let submenu = this.querySelector('.dropdown-menu');
            if (submenu) {
                submenu.style.display = 'none';
            }
        });
    });


    document.querySelectorAll('.dropdown-submenu').forEach((submenu) => {
    let timeout;
    submenu.addEventListener('mouseenter', function () {
        clearTimeout(timeout);
        this.querySelector('.dropdown-menu').style.display = 'block';
    });
    submenu.addEventListener('mouseleave', function () {
        timeout = setTimeout(() => {
            this.querySelector('.dropdown-menu').style.display = 'none';
        }, 300); // Delay in milliseconds
    });
});




});



</script>





<script>
    const socialNav = document.getElementById('socialNav');
    const mainNav = document.getElementById('mainNav');
    const socialNavHeight = socialNav.offsetHeight;

    window.addEventListener('scroll', function () {
        if (window.scrollY > socialNavHeight) {
            socialNav.style.top = `-${socialNavHeight}px`;
            mainNav.style.top = '0px'; // Move main-nav to the top
        } else {
            socialNav.style.top = '0';
            mainNav.style.top = `${socialNavHeight}px`; // Push it below social-nav
        }
    });
</script>



  <script>
  $('#id_search').select2({
    width: '100%', 
    placeholder: 'Search...',
    allowClear: true,
    ajax: {
        url: "{% url 'accounts:search_all' %}",
        dataType: 'json',
        delay: 250,
        data: function(params) {
            return { q: params.term };
        },
        processResults: function(data) {
            return {
                results: $.map(data.results, function(item) {
                    return { id: item.id, text: item.text };
                })
            };
        },
        cache: true
    },
    minimumInputLength: 1
});

    </script>
<script>
    document.addEventListener("DOMContentLoaded", function () {   
        const messageModal = document.getElementById('messageModal');
        const messagesContainer = document.getElementById('messagesContainer');   
        if (messageModal && messagesContainer && messagesContainer.children.length > 0) { 
            const modalInstance = new bootstrap.Modal(messageModal);
            modalInstance.show();
   
            setTimeout(() => {
                modalInstance.hide();
            }, 5000);
        }
    });
</script>




<script>
$(document).ready(function () {
    // Function to mark a notification as read
    $(".mark-as-read").click(function (e) {
        e.preventDefault();  // Prevent default link behavior
        var notificationId = $(this).data("id");  // Get notification ID

        $.ajax({
            url: "/messaging/notifications/mark-as-read/" + notificationId + "/",
            type: "POST",
            headers: {
                "X-CSRFToken": "{{ csrf_token }}"  // Pass CSRF token
            },
            success: function (response) {
                if (response.success) {
                    // Hide the clicked notification or change its style
                    $("a[data-id='" + notificationId + "']").closest(".notification").fadeOut();

                    // Update the notification count badge
                    var count = parseInt($(".badge.bg-danger").text()) || 0;
                    if (count > 1) {
                        $(".badge.bg-danger").text(count - 1);
                    } else {
                        $(".badge.bg-danger").remove();  // Remove badge if no more unread notifications
                    }
                }
            },
            error: function () {
                alert("Error marking notification as read.");
            }
        });
    });
});
</script>


</body>
</html>

